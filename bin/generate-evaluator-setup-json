#! /usr/bin/env node

/**
 * @file	generate-evaluator-setup-json
 *		This file is the single-source-of-authority with respect
 *		to which files are run for which evaluators.  It is used
 *              to generate code in ../generated.
 *
 * @author	Wes Garland, wes@kingsds.network
 * @date	Feb 2021
 */

const fs   = require('fs');
const path = require('path');

var o = {};

o.node = [
  "sa-ww-simulation",
  "script-load-wrapper",
  "primitive-timers",
  "event-loop-virtualization",
  "access-lists",
  "bravojs-init",
  "bravojs/bravo.js",
  "bravojs-env",
  "calculate-capabilities",
  "bootstrap"
];
o.browser = [
  "script-load-wrapper",
  "primitive-timers",
  "event-loop-virtualization",
  "access-lists",
  "bravojs-init",
  "bravojs/bravo.js",
  "bravojs-env",
  "calculate-capabilities",
  "bootstrap"
];

o.native = [
  "sa-ww-simulation",
  "script-load-wrapper",
  "event-loop-virtualization",
  "access-lists",
  "bravojs-init",
  "bravojs/bravo.js",
  "bravojs-env",
  "calculate-capabilities",
  "bootstrap"
];

fs.writeFileSync(path.resolve(__dirname, '../generated/evaluator-setup-files.json'), JSON.stringify(o), 'utf-8');

console.log(`Done - ${Object.keys(o).join(', ')}.`);
